<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <title>Halloween - Caspe</title>
    <meta name="description" content="Este Halloween se desata la oscuridad en CASPE. Una velada de puro techno, misterio y emociones fuertes en Caf√© Berl√≠n, Madrid. Reserva tu entrada ahora.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://caspe.club">
    <meta property="og:title" content="Especial Halloween - CASPE">
    <meta property="og:description" content="Este Halloween se desata la oscuridad en CASPE. Una velada de puro techno, misterio y emociones fuertes en Caf√© Berl√≠n, Madrid. Reserva tu entrada ahora.">
    <meta property="og:image" content="https://caspe.club/cartel.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://caspe.club">
    <meta property="twitter:title" content="Especial Halloween - CASPE">
    <meta property="twitter:description" content="Este Halloween se desata la oscuridad en CASPE. Una velada de puro techno, misterio y emociones fuertes en Caf√© Berl√≠n, Madrid. Reserva tu entrada ahora.">
    <meta property="twitter:image" content="https://caspe.club/cartel.jpg">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://caspe.club">
  </head>
  <body>
    <nav class="navbar navbar-dark bg-dark justify-content-center fixed-top" style="background-color:#0E0E0E !important;">
        <a class="navbar-brand" href="#">
          <img src="logo.svg" height="30" alt="Caspe">
        </a>
    </nav>
    <img style="width:100%;height:300px;object-fit:cover;" src="cartel.jpg"/>
    <main role="main" class="container">

    <div class="container" style="margin-top:20px;">
        <div class="row">
            <h3>Especial Halloween</h3>
        </div>
        <div class="row">
            <span><i class="pull-right bi-geo"></i> Caf√© Berl√≠n:<small> COSTANILLA DE LOS √ÅNGELES, 20, MADRID, ESPA√ëA </small></span>
        </div>
            <div class="row"> 
            <span><i class="pull-right bi-calendar-event"></i> 31/10/2024 <i class="pull-right bi-clock"></i> 23:59</span>
        </div>

        <div class="row">
        </div>
        <div class="row" style="margin-top:20px;">
            <p>
              Este Halloween se desata la oscuridad en CASPE. Por primera vez, nos apoderamos de la noche entera en Caf√© Berl√≠n el 31 de octubre, para una velada de puro techno, misterio y emociones fuertes.
            </p>
            <p>Hemos hecho sold out de entradas anticipadas, pero aqu√≠ puedes conseguir tu pase de invitado con acceso preferente y sin colas hasta la 1:30h.</p>
        </div>
        
        <div class="row" style="margin-top:20px;">
            <h5>Consigue tu pase</h5>
        </div>
        <div class="row">
            <ul class="list-group mb-3" style="width:100%;margin-top:20px;">
                <li class="list-group-item d-flex justify-content-between lh-condensed">
                  <div>
                    <h6 class="my-0">Lista invitados <span class="badge badge-pill badge-primary">PAGO EN PUERTA</span></h6>
                    <small class="text-muted">Entrada preferente y sin cola antes de la 1:30h<br></small>
                  </div>
                  <span class="text-muted">22‚Ç¨</span>
                  
                </li>
              </ul>

        </div>
        <div id="formContainer" class="row" style="margin-bottom:50px;">
          <div class="col" style="padding:0;">
              <form id="reservationForm" novalidate>
                  <div class="form-group">
                      <label for="inputName">Nombre</label>
                      <input type="text" class="form-control" id="inputName" required>
                      <div class="invalid-feedback">
                          Por favor, introduce tu nombre.
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="inputSurname">Apellidos</label>
                      <input type="text" class="form-control" id="inputSurname" required>
                      <div class="invalid-feedback">
                          Por favor, introduce tus apellidos.
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="inputEmail">E-mail</label>
                      <input type="email" class="form-control" id="inputEmail" required>
                      <div class="invalid-feedback">
                          Por favor, introduce un email v√°lido.
                      </div>
                  </div>
                  <div id="errorMessage" class="alert alert-danger" style="display: none;"></div>
                  <button type="submit" class="btn btn-primary btn-block" id="submitButton">Apuntarme</button>
              </form>
          </div>
      </div>

      <div id="thankYouMessage" class="row" style="text-align:center; margin-bottom:50px; display: none;">
              <div class="alert alert-success">
                üéâ ¬°Perfecto! Hemos enviado tu pase al correcto electr√≥nico
              </div>
      </div>
      </div>



    </div>
    
    </main>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          const form = document.getElementById('reservationForm');
          const submitButton = document.getElementById('submitButton');
          const formContainer = document.getElementById('formContainer');
          const thankYouMessage = document.getElementById('thankYouMessage');
          const errorMessage = document.getElementById('errorMessage');

          form.addEventListener('submit', function(event) {
              event.preventDefault();
              event.stopPropagation();
              
              if (form.checkValidity()) {
                  submitForm();
              }
              
              form.classList.add('was-validated');
          });

          function submitForm() {
              submitButton.disabled = true;
              submitButton.textContent = 'Enviando...';
              errorMessage.style.display = 'none';

              const scriptURL = 'https://script.google.com/macros/s/AKfycbwYTFRNO6sk_a8k_opMEtoz_gdNewGNEVTtUZ5CWcDjV40-554CwXb1qRoh40rt7af8bw/exec';
              
              const formData = {
                  name: document.getElementById('inputName').value,
                  surname: document.getElementById('inputSurname').value,
                  email: document.getElementById('inputEmail').value
              };

              fetch(scriptURL, {
                  redirect: "follow",
                  method: "POST",
                  body: JSON.stringify(formData),
                  headers: {
                      "Content-Type": "text/plain;charset=utf-8",
                  },
              })
              .then(response => response.json())
              .then(data => {
                  if (data.status === "success") {
                      formContainer.style.display = 'none';
                      thankYouMessage.style.display = 'block';
                  } else {
                      throw new Error('Submission failed');
                  }
              })
              .catch(error => {
                  console.error('Error:', error);
                  errorMessage.textContent = 'Ha ocurrido un error. Por favor, int√©ntalo de nuevo m√°s tarde.';
                  errorMessage.style.display = 'block';
              })
              .finally(() => {
                  submitButton.disabled = false;
                  submitButton.textContent = 'Apuntarme';
              });
          }
      });
  </script>
  </body>
</html>